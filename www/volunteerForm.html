<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
        
        <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' gap:; style-src 'self' 'unsafe-inline'; media-src *" />
        <link rel="stylesheet" href="css/index.css">
        
</head>
<body>
    <nav><a href="index.html"><i class="material-icons" id="back">arrow_back</i></a>
        <span>Форма ввода для волонтера</span>
    </nav>
	 <div class="container">
            <div class="volunteerForm">
                <div class="row">
                    <div class="row">
                        <div class="input-field col s12">
                            <input  id="name_volunteer" type="text" class="validate" >
                            <label for="name_volunteer">ФИО</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="passport_volunteer"  class="validate" type="text" >
                            <label for="passport_volunteer">Паспортные данные</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="phone_number_volunteer"  class="validate" type="number" >
                            <label for="phone_number_volunteer">Контактные данные</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="file-field input-field">
                            <div class="btn">
                                <span>Загрузить фото</span>
                                <input type="file">
                            </div>
                            <div class="file-path-wrapper">
                                <input class="file-path validate" type="text">
                            </div>
                        </div>
                    </div>
                    <button class="btn" id="regis_volunteer">Зарегистрироваться</button>
                </div>
        </div>
        </div>
          <script type="text/javascript" src="cordova.js"></script>
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
        <script>
            $(document).ready(function(){
                $("#back").show(); 
            });

            $("#regis_volunteer").on('click',function(){
                alert("lol");
                if($('#name_volunteer').val()=="" || $('#passport_volunteer').val()=="" || $('#phone_number_volunteer').val()==""){
                        alert("Какое-то поле не введено");
                }else{
                    $.ajax({
                        url:"http://192.168.1.33:8000/api/addVolunteer",
                        data:{
                            name:$('#name_volunteer').val(),
                            passport:$('#passport_volunteer').val(),
                            phone_number:$('#phone_number_volunteer').val(),
                            user_id:localStorage.user_id
                        },
                        success:function(arg){
                            localStorage.setItem('role_id',arg);
                            window.location = "volunteerPage.html";
                        }
                    });
                }
            })
        </script>
</body>
</html>